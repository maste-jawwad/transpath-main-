<%- include("../partials/header.ejs") %>
    <h1 class="text-3xl text-black pb-6">Add Projects</h1>

    <div class="flex flex-wrap justify-center">
        <div class="w-full lg:w-1/2 my-6 pr-0 lg:pr-2">
            <p class="text-xl pb-6 flex items-center">
                <i class="fas fa-list mr-3"></i> Add Projects
            </p>
            <div class="flex items-center bg-blue-500 text-white text-sm font-bold px-4 py-3 mt-2" role="alert">
                <svg class="w-4 h-4 mr-2" fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    <path
                        d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z" />
                </svg>
                <p>The link should start with "https://"</p>
            </div>
            <div class="leading-loose">
                <form class="p-10 bg-white rounded shadow-xl" action="/admin/update" method="POST"
                    enctype="multipart/form-data">
                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="title">Title</label>
                        <input class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" id="title" type="text"
                            name="title" placeholder="Title">
                    </div>
                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="description">Description</label>
                        <textarea class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" rows="4" id="description"
                            name="description" placeholder="Description"></textarea>
                    </div>
                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="date">Date</label>
                        <input class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" id="date" type="date"
                            name="date" placeholder="Date">
                    </div>
                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="category">Project Category</label>
                        <select class="w-full px-5 py-2 text-gray-700 bg-gray-200 rounded" id="category"
                            name="category">
                            <option value="" disabled selected>Select a type</option>
                            <option value="Knowledge Sharing Strategy">Knowledge Sharing Strategy, Training and Workshop
                            </option>
                            <option value="Research & Advocacy">Research & Advocacy</option>
                            <option value="Partnership & Networking">Partnership & Networking</option>
                            <option value="Blog">Blog Post</option>
                            <option value="Webinar">Webinar</option>
                            <option value="Podcast">Podcast</option>
                            <!-- <option value="Implementation Plan">Implementation Plan</option>
                            <option value="Training & Workshop">Training & Workshop</option>
                            <option value="Summer School">Summer School</option> -->
                        </select>
                    </div>

                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="basin">Basin</label>
                        <input class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" id="basin" type="text"
                            name="basin" placeholder="Basin">
                    </div>

                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="photos">Project photos</label>
                        <input class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" id="photos" type="file"
                            name="photos" multiple placeholder="Upload project photos">
                    </div>

                    <div class="mt-2">
                        <label class="block text-sm text-gray-600" for="link">Link</label>
                        <input class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" id="link" type="text"
                            name="link" placeholder="Link to project">
                    </div>

                    <div class="mt-2">
                        <label for="download" class="block text-sm text-gray-600">Download File</label>
                        <input type="file" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded" name="download">
                    </div>

                    <div class="mt-2">
                        <label for="div-id">ID</label>
                        <input type="text" name="div_id" id="div-id" placeholder="ID"
                            class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded">
                    </div>

                    <div id="peopleFields">
                        <p class="text-xl pb-6 flex items-center">
                            Add People
                        </p>
                        <div class="mt-2">
                            <label for="peopleName1" class="block text-sm text-gray-600">Name</label>
                            <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                                id="peopleName1" name="people[][name]" placeholder="Name" required>
                        </div>
                        <div class="mt-2">
                            <label for="peopleDesgination1" class="block text-sm text-gray-600">Designation</label>
                            <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                                id="peopleDesignation1" name="people[][designation]" placeholder="Designation" required>
                        </div>
                        <div class="mt-2">
                            <label for="peopleDepartment1" class="block text-sm text-gray-600">Department</label>
                            <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                                id="peopleDepartment1" name="people[][department]" placeholder="Department" required>
                        </div>
                        <div class="mt-2">
                            <label for="peopleInstitute1" class="block text-sm text-gray-600">Institute</label>
                            <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                                id="peopleInstitute1" name="people[][institute]" placeholder="Institute" required>
                        </div>
                    </div>
                    <button class="mt-2 px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
                        id="addPeopleField" type="button">Add More People</button>

                    <div class="mt-6">
                        <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
                            type="submit">Add</button>
                    </div>

                    <div class="mt-2">
                        <a class="hover:text-blue-500" href="/admin/project">Go Back</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const addPeopeFieldButton = document.getElementById("addPeopleField");
        const peopleFieldContainer = document.getElementById("peopleFields");

        let idx = 2;

        addPeopeFieldButton.addEventListener('click', () => {
            const peopleFieldHTML = `
            <div class="mt-2">
                <label for="peopleName${idx}" class="block text-sm text-gray-600">Name</label>
                <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                    id="peopleName${idx}" name="people[][name]" placeholder="Name" required>
            </div>
            <div class="mt-2">
                <label for="peopleDesgination${idx}" class="block text-sm text-gray-600">Designation</label>
                <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                    id="peopleDesignation${idx}" name="people[][designation]" placeholder="Designation" required>
            </div>
            <div class="mt-2">
                <label for="peopleDepartment${idx}" class="block text-sm text-gray-600">Department</label>
                <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                    id="peopleDepartment${idx}" name="people[][department]" placeholder="Department" required>
            </div>
            <div class="mt-2">
                <label for="peopleInstitute${idx}" class="block text-sm text-gray-600">Institute</label>
                <input type="text" class="w-full px-5 py-4 text-gray-700 bg-gray-200 rounded"
                    id="peopleInstitute${idx}" name="people[][institute]" placeholder="Institute" required>
            </div>
            `

            const peopleFieldWrapper = document.createElement('div');
            peopleFieldWrapper.innerHTML = peopleFieldHTML;

            peopleFieldContainer.appendChild(peopleFieldWrapper);
            idx++;
        })
    </script>
    <%- include("../partials/footer.ejs") %>